<main>

    <app-second-nav [parent]="toChild"></app-second-nav>

    <div class="add-marks">
        <a class="add-marks__link">Dodaj ocenę <i class="bi bi-pencil-fill"></i></a>
    </div>

    <div class="main-list">
        <p class="main-list__title">Uczeń/Uczennica</p>

        <ul class="student-list">
            <li class="student-list__item" *ngFor="let item of list; index as i">

                <div class="student-list__student-name">
                    <p class="student-list__student-name-p">
                        {{i+1}}. {{item.name[0]}}.{{item.lastname}}</p>
                    <a class="student-list__student-name-a"
                    (click)="this.editModeToggle(i)" 
                    [ngStyle]="{'color': editModeForIndex === i ? 'initial' : '#428bca'}">
                    {{editModeForIndex === i ? 'Cofnij' : 'Edytuj'}}</a>
                </div>

                <ng-container
                    *ngTemplateOutlet="editModeForIndex === i ? editMode : showCurrentMarks">
                </ng-container>

                <ng-template #showCurrentMarks>
                    <p class="student-list__marks-p">
                        {{item.marks}}
                    </p>
                </ng-template>

                <ng-template #editMode>
                    <app-edit-marks></app-edit-marks>
                </ng-template>
            </li>
        </ul>

    </div>

</main>
